---
title: 이벤트 루프와 리액트
image: eventWithReact.jpg
date: '20240511'
---

### 제목: 리액트에서 비동기 상태 업데이트 이해하기

리액트 개발을 하다 보면, 비동기 작업과 상태 업데이트의 상호작용에 대해 깊이 이해할 필요가 있습니다. 특히, _**setTimeout**_ 과 같은 JavaScript의 타이머 함수와 리액트의 상태 업데이트가 어떻게 연결되는지를 아는 것은 중요합니다. 이번 포스트에서는 _**handleSend**_ 함수를 예로 들어 이 과정을 자세히 살펴보겠습니다.

#### 1\. _**handleSend**_ 함수의 실행

_**handleSend**_ 함수는 사용자가 메시지를 전송할 때 호출되는 함수입니다. 이 함수 내에서 우리는 먼저 _**setIsSending(true)**_ 를 호출하여 메시지 전송 중임을 UI에 표시합니다.

```js
function handleSend() {
  setIsSending(true);
  timeoutID = setTimeout(() => {
    alert('Sent!');
    setIsSending(false);
  }, 3000);
}
```

#### 2\. 상태 업데이트와 비동기 콜백

_**setIsSending(true)**_ 는 리액트의 내부 업데이트 큐에 상태 변경을 예약합니다. 이 상태 변경은 _**handleSend**_ 함수가 종료되고 나서 콜 스택이 비워지면 리액트에 의해 처리됩니다. 이렇게 하면 리액트는 가능한 한 효율적으로 UI를 업데이트할 수 있습니다.

한편, _**setTimeout**_ 은 지정된 지연 시간(여기서는 3000 밀리초) 후에 콜백 함수를 실행합니다. 이 콜백 함수는 타이머가 완료되면 이벤트 루프에 의해 콜 스택으로 이동되어 실행됩니다.

#### 3\. 이벤트 루프와 리액트의 업데이트 처리

콜백 함수가 실행되면, 사용자에게 'Sent!'라는 알림을 보여준 후, _**setIsSending(false)**_ 를 호출하여 메시지 전송이 완료되었음을 UI에 업데이트합니다. 이 상태 업데이트 또한 리액트의 내부 업데이트 큐에 추가되고, 콜백 함수 실행이 완료된 후 콜 스택이 비워지면 처리됩니다.

#### 4\. 결론

이 예에서 볼 수 있듯이, 리액트의 상태 업데이트와 JavaScript의 이벤트 루프는 밀접하게 연결되어 있으며, 리액트는 이를 통해 비동기 상태 업데이트를 효과적으로 관리합니다. 이 과정을 이해함으로써, 우리는 리액트 애플리케이션에서 발생할 수 있는 비동기 처리 문제를 더 잘 해결할 수 있습니다.
